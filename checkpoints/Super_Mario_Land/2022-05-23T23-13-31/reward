
        # reward function simple
        clock = current_mario.time_left - prevGameState.time_left
        #movement = (current_mario.real_x_pos - prevGameState.real_x_pos)
        death = -15*(current_mario.lives_left - prevGameState.lives_left)
        max_progress = (current_mario._level_progress_max - prevGameState._level_progress_max)

        # have to manyally reset max progress on level change because game hasnt implemented it
        if(max(current_mario.world[0] - prevGameState.world[0], current_mario.world[1] - prevGameState.world[1]) > 0):
            pyboy.game_wrapper()._level_progress_max = 0
            max_progress = 1

        
        reward = clock + death + max_progress
